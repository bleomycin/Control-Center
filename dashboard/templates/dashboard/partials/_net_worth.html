{% load humanize %}
<details class="mb-6 bg-gray-800 rounded-lg border border-gray-700">
    <summary class="flex items-center justify-between cursor-pointer px-4 py-3 hover:bg-gray-700/50 transition-colors rounded-lg">
        <div class="flex items-center gap-3">
            <svg class="w-4 h-4 text-gray-400 transition-transform details-open-rotate" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            <span class="text-sm font-semibold text-gray-200">Financial Overview</span>
        </div>
        <div class="flex items-center gap-4 text-sm">
            <span class="text-gray-400">Net Worth</span>
            <span class="font-bold {% if net_worth.net_worth >= 0 %}text-green-400{% else %}text-red-400{% endif %}">${{ net_worth.net_worth|floatformat:0|intcomma }}</span>
            <span class="hidden sm:inline text-gray-600">|</span>
            <span class="hidden sm:inline text-gray-400">Flow</span>
            <span class="hidden sm:inline font-bold {% if monthly_net_flow >= 0 %}text-green-400{% else %}text-red-400{% endif %}">{% if monthly_net_flow >= 0 %}+{% endif %}${{ monthly_net_flow|floatformat:0|intcomma }}</span>
        </div>
    </summary>
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 px-4 pb-4 pt-2">
        <div class="bg-gray-700/50 rounded-lg p-3">
            <p class="text-xs text-gray-400 uppercase tracking-wide">Net Worth</p>
            <p class="text-lg font-bold {% if net_worth.net_worth >= 0 %}text-green-400{% else %}text-red-400{% endif %} mt-1">${{ net_worth.net_worth|floatformat:0|intcomma }}</p>
        </div>
        <div class="bg-gray-700/50 rounded-lg p-3">
            <p class="text-xs text-gray-400 uppercase tracking-wide">Total Assets</p>
            <p class="text-lg font-bold text-blue-400 mt-1">${{ net_worth.total_assets|floatformat:0|intcomma }}</p>
        </div>
        <div class="bg-gray-700/50 rounded-lg p-3">
            <p class="text-xs text-gray-400 uppercase tracking-wide">Total Liabilities</p>
            <p class="text-lg font-bold text-red-400 mt-1">${{ net_worth.total_liabilities|floatformat:0|intcomma }}</p>
        </div>
        <div class="bg-gray-700/50 rounded-lg p-3">
            <p class="text-xs text-gray-400 uppercase tracking-wide">Monthly Net Flow</p>
            <p class="text-lg font-bold {% if monthly_net_flow >= 0 %}text-green-400{% else %}text-red-400{% endif %} mt-1">
                {% if monthly_net_flow >= 0 %}+{% endif %}${{ monthly_net_flow|floatformat:0|intcomma }}
            </p>
            <a href="{% url 'cashflow:list' %}" class="text-xs text-gray-500 hover:text-gray-400 mt-1 inline-block">View Cash Flow &rarr;</a>
        </div>
    </div>
</details>
