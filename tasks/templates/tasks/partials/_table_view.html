<div class="bg-gray-800 rounded-lg border border-gray-700 overflow-hidden">
    <div class="overflow-x-auto">
        <table class="w-full">
            <thead>
                <tr class="border-b border-gray-700 text-left">
                    <th class="px-4 py-3 w-8"><input type="checkbox" id="select-all" class="rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-0"></th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wide w-8"></th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wide">
                        <a href="#" hx-get="{% url 'tasks:list' %}?sort=title&dir={% if current_sort == 'title' and current_dir != 'asc' %}asc{% else %}desc{% endif %}"
                           hx-target="#task-table-body" hx-include="#filter-form" hx-indicator="#loading-spinner"
                           class="hover:text-gray-200 cursor-pointer inline-flex items-center gap-1">
                            Title
                            {% if current_sort == "title" %}
                                {% if current_dir == "asc" %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M5.293 9.707l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 7.414l-3.293 3.293a1 1 0 01-1.414-1.414z"/></svg>
                                {% else %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M14.707 10.293l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 12.586l3.293-3.293a1 1 0 111.414 1.414z"/></svg>{% endif %}
                            {% endif %}
                        </a>
                    </th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wide hidden sm:table-cell">
                        <a href="#" hx-get="{% url 'tasks:list' %}?sort=status&dir={% if current_sort == 'status' and current_dir != 'asc' %}asc{% else %}desc{% endif %}"
                           hx-target="#task-table-body" hx-include="#filter-form" hx-indicator="#loading-spinner"
                           class="hover:text-gray-200 cursor-pointer inline-flex items-center gap-1">
                            Status
                            {% if current_sort == "status" %}
                                {% if current_dir == "asc" %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M5.293 9.707l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 7.414l-3.293 3.293a1 1 0 01-1.414-1.414z"/></svg>
                                {% else %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M14.707 10.293l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 12.586l3.293-3.293a1 1 0 111.414 1.414z"/></svg>{% endif %}
                            {% endif %}
                        </a>
                    </th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wide hidden sm:table-cell">
                        <a href="#" hx-get="{% url 'tasks:list' %}?sort=priority&dir={% if current_sort == 'priority' and current_dir != 'asc' %}asc{% else %}desc{% endif %}"
                           hx-target="#task-table-body" hx-include="#filter-form" hx-indicator="#loading-spinner"
                           class="hover:text-gray-200 cursor-pointer inline-flex items-center gap-1">
                            Priority
                            {% if current_sort == "priority" %}
                                {% if current_dir == "asc" %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M5.293 9.707l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 7.414l-3.293 3.293a1 1 0 01-1.414-1.414z"/></svg>
                                {% else %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M14.707 10.293l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 12.586l3.293-3.293a1 1 0 111.414 1.414z"/></svg>{% endif %}
                            {% endif %}
                        </a>
                    </th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wide hidden md:table-cell">
                        <a href="#" hx-get="{% url 'tasks:list' %}?sort=due_date&dir={% if current_sort == 'due_date' and current_dir != 'asc' %}asc{% else %}desc{% endif %}"
                           hx-target="#task-table-body" hx-include="#filter-form" hx-indicator="#loading-spinner"
                           class="hover:text-gray-200 cursor-pointer inline-flex items-center gap-1">
                            Due
                            {% if current_sort == "due_date" %}
                                {% if current_dir == "asc" %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M5.293 9.707l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 7.414l-3.293 3.293a1 1 0 01-1.414-1.414z"/></svg>
                                {% else %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M14.707 10.293l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 12.586l3.293-3.293a1 1 0 111.414 1.414z"/></svg>{% endif %}
                            {% endif %}
                        </a>
                    </th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wide hidden lg:table-cell">Stakeholder</th>
                    <th class="px-4 py-3 text-xs font-semibold text-gray-400 uppercase tracking-wide hidden xl:table-cell">
                        <a href="#" hx-get="{% url 'tasks:list' %}?sort=created_at&dir={% if current_sort == 'created_at' and current_dir != 'asc' %}asc{% else %}desc{% endif %}"
                           hx-target="#task-table-body" hx-include="#filter-form" hx-indicator="#loading-spinner"
                           class="hover:text-gray-200 cursor-pointer inline-flex items-center gap-1">
                            Created
                            {% if current_sort == "created_at" %}
                                {% if current_dir == "asc" %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M5.293 9.707l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L10 7.414l-3.293 3.293a1 1 0 01-1.414-1.414z"/></svg>
                                {% else %}<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M14.707 10.293l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 12.586l3.293-3.293a1 1 0 111.414 1.414z"/></svg>{% endif %}
                            {% endif %}
                        </a>
                    </th>
                </tr>
            </thead>
            <tbody id="task-table-body" class="divide-y divide-gray-700">
                {% include "tasks/partials/_task_table_rows.html" %}
            </tbody>
        </table>
    </div>
</div>
{% include "partials/_pagination.html" %}
